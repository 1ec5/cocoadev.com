See General/CocoaWrapperAroundConsoleApplication and the main General/NSTask page.